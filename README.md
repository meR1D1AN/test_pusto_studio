# Тестовое задание для бэкенд разработчика на Python в Pusto studio

## Запуск проекта с помощью Docker

1. Склонируйте репозиторий:
```bash
git clone https://github.com/meR1D1AN/test_pusto_studio.git
cd test_pusto_studio
```
2. Скопируйте файл `.env.sample` и внесите изменения:
```bash
cp .env.sample .env
```
3. Внесите изменения в файл `.env`.
4. Проверьте, что программа Docker Desktop установлена и запущена, и введите команду:
```bash
docker compose up -d --build
```
5. Контейнер автоматически запустится, можно будет зайти в Django админку с помощью данных которые внесли в файл `.env` в поля ADMIN_USERNAME и ADMIN_PASSWORD, в базе уже будут созданы рандомные 10 игроков.
6. Ссылка на [Админку](http://localhost/admin)

---
### 1 задача
Приложение подразумевает ежедневный вход пользователя, начисление баллов за вход. Нужно отследить момент первого входа игрока для аналитики. 

Также у игрока имеются игровые бонусы в виде нескольких типов бустов. Нужно описать модели игрока и бустов с возможностью начислять игроку бусты за прохождение уровней или вручную.

В Django админке добавлены 3 действия:
1. Совершить логин.
 - сразу начисляется 10 очков, добавляется в кол-во дней входа 1, в один и тот же день нельзя зайти дважды
2. Повысить уровень.
 - при повышении уровня добавляется бустер, максимальный уровень 3, при достижении 3 уровня добавляется 100 очков
3. Понизить уровень.
 - при понижении уровня бустер за уровень убирается, минимальный уровень 0

 
4. Cтандартное действие, удаление. 

### Чтобы вызвать еще раз команду по созданию дополнительных 10 игроков, нужно ввести команду:
```bash
docker compose exec app uv run python3 manage.py create_data
```
---
### 2 задача
Дано несколько моделей.
Написать два метода:

1. Присвоение игроку приза за прохождение уровня.
*  у модели `LevelPrize` убрал поле received, было лишним, создал отдельную модель `PlayerPrize` для того, чтобы показывать какие призы, кто заработал, когда и на каком уровне.
2. Выгрузку в csv следующих данных: id игрока, название уровня, пройден ли уровень, полученный приз за уровень. Учесть, что записей может быть 100 000 и более.
 - Реализовано в Django админке. Нужно выбрать необходимое кол-во записей `Уровни игроков` или же все записи и нажать на actions `Выгрузить выбранные записи в CSV`. Файл сразу загрузится.
### Чтобы вызвать команду по созданию 100.000 записей игроков, уровней, призов, и связать это всё, выполнение этой команды может производиться от 2 до 10 минут, в зависимости от компьютера или сервера:
```bash
docker compose exec app uv run python3 manage.py create_data_2
```